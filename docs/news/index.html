<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • hcaidcs</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Changelog" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hcaidcs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1.9006</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/PublicHealthEngland/hcaidcs/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/PublicHealthEngland/hcaidcs/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="version-0119006" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1.9006">
<a href="#version-0119006" class="anchor"></a>Version 0.1.1.9006</h1>
<div id="new-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions" class="anchor"></a>New functions</h2>
<p>Two new functions have been added: <code>age_sex_pyramid</code> and <code>graph_age_group</code>. <code>age_sex_pyramid</code> draws age-sex pyramids and <code>graph_age_group</code> produces ordered factors so that axes are plotted in order and the greater that/equal to operator is plotted correctly.</p>
</div>
</div>
    <div id="version-0119005" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1.9005">
<a href="#version-0119005" class="anchor"></a>Version 0.1.1.9005</h1>
<div id="minor-changes-and-bug-fix" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-changes-and-bug-fix" class="anchor"></a>Minor changes and bug fix</h2>
<p>Added function <code>graph_species_names</code> which will generate italicised species names for plotting.</p>
<p>Fixed bug in <code>apportion_phc_date</code>. Previously this function only worked for CDI. It is now available for bacteraemias too.</p>
<p>Some minor fixes to function documentation were added too.</p>
</div>
</div>
    <div id="version-0119004" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1.9004">
<a href="#version-0119004" class="anchor"></a>Version 0.1.1.9004</h1>
<div id="major-change" class="section level2">
<h2 class="hasAnchor">
<a href="#major-change" class="anchor"></a>Major change</h2>
<p>From 01 April 2019, the mandatory surveillance introduced a date of most recent previous discharge for <em>C. difficile</em> infections. This replaced the old set of three questions which asked for yes or no answers around previous trust exposure. Answers to these questions provided the data for the apportioning by prior healthcare. The new function <code>apportion_phc_date</code> performs the apportioning by date and results can be merged with the <code>apportion_phc</code> results.</p>
</div>
<div id="minor-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-changes" class="anchor"></a>Minor changes</h2>
<p>Added dependcy on cowplot so that annual graphs remain consistently formatted. Mostly this means I’ve added <code>+ theme_cowplot()</code> everywhere. This does not change the input or output of the functions, but for reference this affects the following functions:</p>
<ul>
<li><code>aec_age_sex_plot</code></li>
<li><code>aec_age_trend_rate_pc_change</code></li>
<li><code>aec_age_trend_rate_bar</code></li>
<li><code>aec_ec_source_plot</code></li>
<li><code>aec_subregion_plot</code></li>
<li><code>aec_tto_plot</code></li>
<li><code>mf_fig1_fun</code></li>
</ul>
</div>
</div>
    <div id="version-0119003" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1.9003">
<a href="#version-0119003" class="anchor"></a>Version 0.1.1.9003</h1>
<div id="functions-added" class="section level2">
<h2 class="hasAnchor">
<a href="#functions-added" class="anchor"></a>Functions added</h2>
<ul>
<li>
<code>date_to_cmonth</code> Function to convert a date to a calendar month, either as numeric (default), or factor, with levels in calendar year order</li>
<li>
<code>mo_tab_long</code> Function to create long-format monthly tables</li>
<li>
<code>factor_apportioned</code> Creates an ordered factor from apportioned vector</li>
<li>
<code>factor_prior_hc</code> Creates an ordered factor from vector giving prior healthcare status</li>
<li>
<code>factor_apportion_both</code> Creates an ordered factor from output of either normal apportioning or prior trust exposure.</li>
</ul>
</div>
<div id="functions-deprecated" class="section level2">
<h2 class="hasAnchor">
<a href="#functions-deprecated" class="anchor"></a>Functions deprecated</h2>
<ul>
<li>
<code>up_or_down</code> has been moved out to the <a href="https://simonthelwall.github.io/nicethings/">nicethings</a> package.</li>
</ul>
</div>
<div id="minor-changes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-changes-1" class="anchor"></a>Minor changes</h2>
<ul>
<li><p><code>ann_tab_long</code> Simplified syntax for this function. This will make it more flexible. Following arguments have been removed: collection_string, org_code, metric_type, output <code>period_var</code> argument added The expectation is that the user will supply the period as an ordered factor and the function will then sort the data by that variable. The same applies to the <code>metric_var</code> argument.</p></li>
<li><p>Functions for comparing wide data tables have been moved out to a separate branch (<code>merge_everything</code>, <code>merge_one</code>, <code>data_compare</code>, <code>highlight</code>, <code>convert_csv2r</code>). The change to reporting long format tables has obviated these functions.</p></li>
</ul>
</div>
</div>
    <div id="version-0119002" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1.9002">
<a href="#version-0119002" class="anchor"></a>Version 0.1.1.9002</h1>
<div id="minor-changes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-changes-2" class="anchor"></a>Minor changes</h2>
<p>Added tidyr dependency, so that the new function <code>ant_tab_long</code> expands data to include unobserved periods for organisations.</p>
<p>Functions added:</p>
<ul>
<li>
<code>ann_tab_long</code> Function to create long annual and quarterly tables</li>
</ul>
<p>Data added</p>
<ul>
<li>
<code>line_listing</code> Data giving simulated line listing data to be used in examples and function testing</li>
</ul>
</div>
</div>
    <div id="version-0119001" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1.9001">
<a href="#version-0119001" class="anchor"></a>Version 0.1.1.9001</h1>
<div id="minor-changes-3" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-changes-3" class="anchor"></a>Minor changes</h2>
<p>Added two new functions for the preparation of the monthly factsheet and expanded mf_trend_data to add observations and organisms.</p>
<p>Functions added:</p>
<ul>
<li>
<code>mf_lag_trend</code> preps the data so that lagged values are calculated</li>
<li>
<code>mf_create_text_values</code> creates objects giving changes in counts of cases for use in factsheet</li>
</ul>
<p>Also minor fix to <code>apportion_prior_hc</code>.</p>
</div>
<div id="minor-changes-4" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-changes-4" class="anchor"></a>Minor changes</h2>
<p>Tweaks to <code>mf_fig1_fun</code> so that the x axis labels are at a 45 degree angle and so that MRSA and MSSA are no longer bold face.</p>
<p>Updated <code>subregions_sp_df</code> to 2018 geography. Previously 2017 geography.</p>
<p>Updated <code>apportion_phc</code> so that if the case is not HOHA and admitted in past three months is No or NA, then the result goes to COCA.</p>
</div>
</div>
    <div id="version-010" class="section level1">
<h1 class="page-header" data-toc-text="0.1.0">
<a href="#version-010" class="anchor"></a>Version 0.1.0</h1>
<p>This is the first public release of the HCAIDCS package.</p>
<div id="major-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#major-changes" class="anchor"></a>Major changes</h2>
<ul>
<li>Added functions for PHE colours copied from phecharts package.</li>
<li>rlang is now an imported package.</li>
<li>Added functions to produce annual tables in wide format (fixes github issue <a href='https://github.com/PublicHealthEngland/hcaidcs/issues/3'>#3</a>)</li>
<li>
<code>mrsa_source_of_bacteraemia</code> is now deprecated in favour of <code>group_source_bacteraemia</code>
</li>
<li>Added function <code>aec_age_trend_rate_pc_change</code> to produce new age/sex rate trend graphs</li>
</ul>
</div>
<div id="bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes" class="anchor"></a>Bug fixes</h2>
<ul>
<li>
<code>aec_ec_primary_focus_plot</code> now accepts an arbitrary number of levels of primary focus (issue <a href='https://github.com/PublicHealthEngland/hcaidcs/issues/22'>#22</a>).</li>
<li>
<code>fy_long</code> is now vectorised.</li>
<li>
<code>ordered_m_y</code> has been updated to use tidyeval and now works (fixes github issue <a href='https://github.com/PublicHealthEngland/hcaidcs/issues/5'>#5</a>)</li>
<li>
<code>group_source_bacteraemia</code> now recodes <code>NA</code> to <code>Not reported</code>
</li>
<li>fixed <code>apportion_prior_healthcare</code> so that contradictory information indicating no admission in past 3 months, but admission in past 12 weeks now apportions to COIA.</li>
<li>Updated documentation on built in data for assignment_data, cdi_prior_hc_data and assignment_data2</li>
<li>Removed Viridis package dependency as this is no longer used in any function</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Simon Thelwall.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '0bdffd5e43d5ef11862f19d621d11bb5',
    indexName: 'hcaidcs',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


